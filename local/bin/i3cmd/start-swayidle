#!/usr/bin/env sh
#
# See man 1 swayidle

ifinstalled swayidle || exit

pgrep -x swayidle
if [ "$?" == "0" ]
then
  pkill -x swayidle
  notify-send "Stoped swayidle shell command."
else
  notify-send "Starting swayidle shell command."
  swayidle -w \
      timeout 600 'lockwin' resume 'start-resume' \
      timeout 1200 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
      before-sleep 'swaylock -f -c 000000' &
fi

exit 0
